{
  "stages": {
    "smithy": "blacksmith, dwarf",
    "destination": "distance > 300, distance < 900, difficulty medium to hard"
  },
  "actors": {
    "bob": "npc, dwarf, smith, age > 40"
  },
  "props": {
    "bauble": "sword or dagger or amulet, value > 700"
  },
  "scenes": [
    {
      "id": "hook",
      "location": "${smithy}",
      "objectives": {
        "TalkTo": {
          "who": "${bob}",
          "dialogue": {
            "trigger": "proximity",
            "oneOf": [
              "Hey there, can you [help] me?",
              "Hold up, I want to [talk] to you."
            ],
            "branches": [
              {
                "trigger": "help|talk",
                "say": "I lost my ${bauble}, can you help me [get it back]?",
                "branches": [
                  {
                    "trigger": "get.*back",
                    "say": "I think I lost it near ${destination}. When you find it bring it back to me.",
                    "result": {
                      "GoTo": {
                        "scene": "get the bauble"
                      }
                    }
                  }
                ]
              }
            ]
          }
        }
      },
      "limits": {
        "Expires": {
          "in": "5 days"
        }
      }
    },
    {
      "id": "get the bauble",
      "location": "${destination}",
      "objectives": {
        "TakeAnItem": {
          "from": "${destination}"
        }
      },
      "result": {
        "GoTo": {
          "scene": "return the bauble"
        }
      }
    },
    {
      "id": "return the bauble",
      "location": "${smithy}",
      "objectives": {
        "GiveAnItem": {
          "what": "${bauble}",
          "to": "${bob}"
        }
      },
      "dialogue": {
        "oneOf": "Oh you found my ${bauble}. Thank you! Here's some coin for your trouble."
      },
      "result": {
        "Favor": {
          "who": "${bob}",
          "amount": 1000
        },
        "GiveCoin": {
          "min": 300,
          "max": 700
        }
      }
    }
  ]
}