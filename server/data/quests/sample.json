{
  "stages": {
    "smithy": "blacksmith, dwarf",
    "destination": "distance > 300, distance < 900, difficulty medium to hard"
  },
  "actors": {
    "bob": "npc, dwarf, smith, age > 40",
    "soandso": "pc"
  },
  "props": {
    "bauble": "sword or dagger or amulet, value > 700"
  },
  "scenes": [
    {
      "script": [
        {
          "type": "Listener",
          "events": [
            {
              "type": "Proximity",
              "goto": 1
            }
          ]
        },
        {
          "type": "RandomSelect",
          "options": [
            2,
            3
          ]
        },
        {
          "type": "Dialogue",
          "lines": [
            "Hey there, can you [help] me?"
          ],
          "events": [
            {
              "type": "Hear",
              "regex": "help",
              "goto": 4
            }
          ]
        },
        {
          "type": "Dialogue",
          "lines": [
            "Wait, I want to [talk] to you."
          ],
          "events": [
            {
              "type": "Hear",
              "regex": "talk",
              "goto": 4
            }
          ]
        },
        {
          "type": "Dialogue",
          "lines": [
            "I lost my ${bauble}, can you help me [get it back]?"
          ],
          "events": [
            {
              "type": "Hear",
              "regex": "get.*back",
              "goto": 5
            }
          ]
        },
        {
          "type": "Dialogue",
          "lines": [
            "Yay! I think I lost it near {destination}."
          ],
          "events": [
            {
              "type": "Always",
              "goto": 6
            }
          ]
        },
        {
          "type": "ChangeScene",
          "scene": "{next}"
        }
      ]
    },
    {
      "script": [
        {
          "type": "Listener",
          "events": [
            {
              "type": "TakeAnItem",
              "item": "{bauble}",
              "from": "{destination}",
              "goto": 1
            }
          ]
        },
        {
          "type": "ChangeScene",
          "scene": "{next}"
        }
      ]
    },
    {
      "script": [
        {
          "type": "Listener",
          "events": [
            {
              "type": "GiveItems",
              "items": [
                "{bauble}"
              ],
              "to": "{bob}",
              "goto": 1
            }
          ]
        },
        {
          "type": "Say",
          "lines": [
            "Oh you found my {bauble}. Thank you! Here's some coin for your trouble."
          ],
          "events": [
            {
              "type": "Always",
              "goto": 2
            }
          ]
        },
        {
          "type": "GiveItems",
          "coins": {
            "min": 300,
            "max": 600
          },
          "events": [
            {
              "type": "Always",
              "goto": 3
            }
          ]
        },
        {
          "type": "ChangeStanding",
          "with": "{bob}",
          "by": 1000
        }
      ]
    }
  ]
}